(this["webpackJsonpibcm-editor"]=this["webpackJsonpibcm-editor"]||[]).push([[0],{10:function(e,t,a){e.exports=a(16)},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(8),c=a.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(15);var o=a(9),s=a(1),p=a(2),d=a(4),u=a(3),l=a(5),h=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{id:"toolbar"},i.a.createElement("h1",null,"IBCM Editor"),i.a.createElement("div",null,i.a.createElement("button",{onClick:this.props.resetter.bind(this),title:"Reset"},i.a.createElement("i",{className:"fas fa-undo-alt"})),i.a.createElement("button",{onClick:this.props.exportter.bind(this),title:"Download"},i.a.createElement("i",{className:"fas fa-file-download"}))))}}]),t}(i.a.Component),m=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"ibcm-header"},i.a.createElement("label",null,"Memory"),i.a.createElement("label",null,"Value"),i.a.createElement("label",null,"Description"),i.a.createElement("label",null,"Comments"))}}]),t}(i.a.Component),b=a(6),v={0:"halt",1:"i/o",2:"shift",3:"load",4:"store",5:"add",6:"subtract",7:"and",8:"or",9:"xor",A:"not",B:"nop",C:"jmp",D:"jmpe",E:"jmpl",F:"brl"},f=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).call(this))).state={open:!1},e}return Object(l.a)(t,e),Object(p.a)(t,[{key:"toggle",value:function(){this.setState({open:!this.state.open})}},{key:"updateOpcode",value:function(e){this.toggle(),this.props.updateOpcode(e)}},{key:"render",value:function(){var e=this,t=[],a=function(a){t.push(i.a.createElement("li",{key:a,onClick:function(){return e.updateOpcode(a)}},"".concat(a," - ").concat(v[a])))};for(var n in v)a(n);return i.a.createElement("div",{className:"ibcm-opcode"},i.a.createElement("div",{className:"ibcm-opcode-selected",onClick:function(){return e.toggle()}},this.props.opcode),this.state.open&&i.a.createElement("ul",{className:"ibcm-opcode-dropdown",onMouseLeave:function(){return e.toggle()}},t))}}]),t}(i.a.Component),E=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){this.props.updateComments(e.target.value)}},{key:"render",value:function(){return i.a.createElement("div",{className:"ibcm-comments"},i.a.createElement("input",{type:"text",value:this.props.comments,onChange:this.handleChange.bind(this)}))}}]),t}(i.a.Component),y=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){this.props.updateBody(e.target.value)}},{key:"fillin",value:function(e){this.props.updateBody(e.target.value.padStart(3,"0"))}},{key:"render",value:function(){return i.a.createElement("div",{className:"ibcm-body"},i.a.createElement("input",{type:"text",maxLength:"3",value:this.props.body,onChange:this.handleChange.bind(this),onBlur:this.fillin.bind(this)}))}}]),t}(i.a.Component),O=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){this.props.updateDescription(e.target.value)}},{key:"render",value:function(){return i.a.createElement("div",{className:"ibcm-description"},i.a.createElement("input",{type:"text",value:this.props.description,onChange:this.handleChange.bind(this),disabled:!this.props.userEdit}),i.a.createElement("button",{title:"Toggle Edit",onClick:this.props.updateUserEdit.bind(this)},this.props.userEdit&&i.a.createElement("i",{className:"fas fa-user-slash"}),!this.props.userEdit&&i.a.createElement("i",{className:"far fa-user-edit"})))}}]),t}(i.a.Component);function j(e){var t="";try{var a=e.body,n=parseInt(a,16).toString(2).padStart(12,"0");switch(e.opcode){case"0":t="halt";break;case"1":var i="0"===n.charAt(0)?"input":"output",r="0"===n.charAt(1)?"hex":"ascii";t="".concat(i," ").concat(r);break;case"2":var c="0"===n.charAt(0)?"shift":"rotate",o="0"===n.charAt(1)?"left":"right",s=parseInt(n.substring(n.length-3),2);t="".concat(c," ").concat(o," by ").concat(s);break;default:var p=v[e.opcode];t="".concat(p," ").concat(a)}}catch(d){console.log(d)}return t}var g=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(p.a)(t,[{key:"updateOpcode",value:function(e){var t=Object(b.a)({},this.props.ibcm);t.opcode=e,t.userEdit||(t.description=j(t)),this.props.editor(this.props.addr,t)}},{key:"updateComments",value:function(e){var t=Object(b.a)({},this.props.ibcm);t.comments=e,this.props.editor(this.props.addr,t)}},{key:"updateBody",value:function(e){var t=Object(b.a)({},this.props.ibcm);t.body=e,t.userEdit||(t.description=j(t)),this.props.editor(this.props.addr,t)}},{key:"updateDescription",value:function(e){var t=Object(b.a)({},this.props.ibcm);t.userEdit&&(t.description=e),this.props.editor(this.props.addr,t)}},{key:"updateUserEdit",value:function(){var e=Object(b.a)({},this.props.ibcm);e.userEdit=!e.userEdit,e.userEdit||(e.description=j(e)),this.props.editor(this.props.addr,e)}},{key:"render",value:function(){return i.a.createElement("div",{className:"ibcm-row",id:this.props.addr},i.a.createElement("div",{className:"ibcm-address"},this.props.addr.toString(16).padStart(3,"0")),i.a.createElement("div",{className:"ibcm-value"},i.a.createElement(f,{opcode:this.props.ibcm.opcode,updateOpcode:this.updateOpcode.bind(this)}),i.a.createElement(y,{body:this.props.ibcm.body,updateBody:this.updateBody.bind(this)})),i.a.createElement(O,{description:this.props.ibcm.description,userEdit:this.props.ibcm.userEdit,updateDescription:this.updateDescription.bind(this),updateUserEdit:this.updateUserEdit.bind(this)}),i.a.createElement(E,{comments:this.props.ibcm.comments,updateComments:this.updateComments.bind(this)}))}}]),t}(i.a.Component);var k=function(e){for(var t="",a=0;a<e.length;a++){t+=(e[a].opcode+e[a].body+"\t"+a.toString(16).padStart(3,"0")+"\t"+e[a].description+"\t"+e[a].comments).trimRight()+"\n"}var n=document.createElement("a"),i=new Blob([t],{type:"text/plain"});n.href=URL.createObjectURL(i),n.download="file.ibcm",document.body.appendChild(n),n.click()},C={opcode:"0",body:"000",comments:"",description:"halt",userEdit:!1},w=function(e){function t(){var e;Object(s.a)(this,t),e=Object(d.a)(this,Object(u.a)(t).call(this));for(var a=[],n=0;n<100;n++)a.push(C);return e.state={ibcm:a},e}return Object(l.a)(t,e),Object(p.a)(t,[{key:"updateIbcm",value:function(e,t){var a=Object(o.a)(this.state.ibcm);a[e]=t,this.setState({ibcm:a})}},{key:"resetIbcm",value:function(){for(var e=[],t=0;t<100;t++)e.push(C);this.setState({ibcm:e})}},{key:"exportIbcm",value:function(){k(this.state.ibcm)}},{key:"render",value:function(){var e=this,t=this.state.ibcm.map((function(t,a){return i.a.createElement(g,{key:a,addr:a,ibcm:t,editor:e.updateIbcm.bind(e)})}));return i.a.createElement("div",{id:"editor"},i.a.createElement(h,{resetter:this.resetIbcm.bind(this),exportter:this.exportIbcm.bind(this)}),i.a.createElement(m,null),t)}}]),t}(i.a.Component);var N=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(w,null))};c.a.render(i.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.2e7d9c02.chunk.js.map